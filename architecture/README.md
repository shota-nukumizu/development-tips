# ソフトウェアアーキテクチャの基礎 エンジニアリングに基づく体系的アプローチ

# イントロダクション

---

ソフトウェアアーキテクトには明確なキャリアパスがないのだろうか？主な理由は以下の通り。

- ソフトウェアアーキテクチャ自体の定義が業界でよく定まっていないから
- ソフトウェアアーキテクトの役割が非常に広範囲にわたり、拡大を続けているから
- ソフトウェア開発エコシステムが急速に変化しているので、ソフトウェアアーキテクチャが常に変化する対象になっているから
- ソフトウェアアーキテクチャについての資料の大半が、単なる歴史的経緯となってしまっているから

# ソフトウェアアーキテクチャの定義

---

ソフトウェアアーキテクチャは主に以下の4つの組み合わせで成り立つものと考えている。

- 構造
- アーキテクチャ特性
- アーキテクチャ決定
- 設計指針

## 構造

そのシステムを実装するアーキテクチャスタイルの種類を意味する。たとえば、アーキテクチャの説明を求められ、アーキテクトが「マイクロサービスです」と回答したら、アーキテクトはシステムの構造について語っているだけでシステムのアーキテクチャについては語っていない。システムのアーキテクチャを完全に理解するには、アーキテクチャ特性、アーキテクチャ決定や設計指針も理解する必要がある。

## アーキテクチャ特性

ソフトウェアアーキテクチャを定義する別の側面。システムの成功基準を定めるもので、通常はシステムの機能と直接関係しない。

## アーキテクチャ決定

システムを構築するルールを決めたもの。たとえば、アーキテクトはレイヤードアーキテクチャ上でビジネス層とサービス層のみがデータベースに直接アクセスできるというアーキテクチャ決定を行うことで、プレゼンテーション層が直接データベースを呼び出すのを制限できる。アーキテクチャ決定は、システムの制約を形作り、何が許されて何が許されないかに関係する開発チームの指針となるのだ。

何らかの条件や制約からアーキテクチャ決定をシステムの一部に実装できない場合は、その決定は特例によって破られる。アーキテクチャ決定に対する例外は、ARB(あるいはチーフアーキテクト)によって分析され、その正当性やトレードオフに基づいて承認あるいは否定される。

## 設計指針

設計指針は、堅苦しいルールではなくガイドライン。

# アーキテクトへの期待

---

ソフトウェアアーキテクトの役割を定義するのは、ソフトウェアアーキテクチャを定義するのと同じくらい難しい。その範囲は、上級者プログラマーから会社の戦略的な技術的方向性を定義することまで多岐にわたる。そのため、ここでは役割を定義することに時間をかけるよりもアーキテクトへの期待に焦点を当てよう。

与えられた役割や肩書に関係なく、ソフトウェアアーキテクトには主に次の8つが期待される。

- アーキテクチャ決定を下す
- アーキテクチャを継続的に分析する
- 最新のトレンドを把握し続ける
- 決定の遵守を徹底する
- 多様なものに触れ、経験している
- 専業ドメインの知識を持っている
- 対人スキルをもっている
- 政治を理解し、舵取りする

## アーキテクチャ決定を下す

アーキテクトには、チームや部門、あるいは企業全体の技術的な決定を導くために使用される、アーキテクチャ決定や設計指針を定義することが期待されている。この１つ目の期待で重要なことは「ガイドする」ことである。

## アーキテクチャを継続的に分析する

アーキテクトには、アーキテクチャや現在の技術環境を継続的に分析し、その上で改善案を提案することが期待されている。アーキテクトに対するこの期待は、アーキテクチャの存続力に目を向けたものである。アーキテクトには、3年以上前に定義されたアーキテクチャが今日時点でどれくらいの存続力があるかどうかをビジネスと技術、両方の変化から評価することが期待されている。

## 最新のトレンドを把握し続ける

アーキテクトには、最新の技術や業界の動向を常に把握し続けることが求められている。開発者は現役であり続けるため(そして仕事を獲得し続けるためにも)、日常的に使用している技術を常に追いかけ続けなくてはならない。

## 決定の遵守を徹底する

アーキテクトには、アーキテクチャ決定や設計指針の遵守を徹底することが期待されている。遵守を徹底することは、アーキテクトが定義し、文章化し、伝達したアーキテクチャ決定や設計指針に開発チームが従っているかどうかをアーキテクトが継続的に検証することを意味する。

## 様々なものに触れ、経験している

アーキテクトには、様々な技術、フレームワーク、プラットフォームや環境に慣れていることが期待される。この期待を満たすには、アーキテクトが自身のコンフォートゾーンを拡げるのが最良の方法である。有能なソフトウェアアーキテクトであるためには、複数の言語、プラットフォームや技術の経験を積み上げる機会を積極的に求める必要がある。

## 専業ドメインの知識を持っている

アーキテクトには、事業ドメインに関する一定の専門知識が求められる。有能なソフトウェアアーキテクトは、技術だけではなく、事業ドメインについても理解している。事業ドメインの知識がなければ、ビジネス上の問題や目標、要件を理解するのは難しい。そうすると、ビジネス要件を満たす効果的なアーキテクチャも設計できない。

## 対人スキルを持ち合わせている

アーキテクトには、チームワークやファシリテーション、リーダーシップなど卓越した対人スキルを持ち合わせていることが期待されている。

## 政治を理解し、舵取りをする

アーキテクトには、企業の政治的風土を理解し、政治を舵取りする能力が求められる。それを行うためには交渉術が必要不可欠である。(アーキテクトが下す殆どの決定は反発される)

# ソフトウェアアーキテクチャの法則

---

## ソフトウェアアーキテクチャはトレードオフがすべてだ

## すべての決定は多くの相反する要素を考慮しなければならない

## 「どうやって」よりも「なぜ」のほうがずっと重要だ

# コラム―「運用とDevOps」

---

DevOps(デブオプス)とは、ソフトウェア開発手法の１つ。開発(Development)と運用(Operation)を組み合わせたカバン語であり、開発担当者と運用担当者が連携して協力する開発手法を意味する。ソフトウェアを迅速にビルドおよびテストする文化と環境により、確実なリリースを、以前よりも迅速に高い頻度で可能とする組織体制の構築を目指している。

DevOpsはアーキテクチャの公理が見直されたことで登場した概念である。多くの企業は、運用をソフトウェア開発とは別の機能と解釈してきた。そして、コスト削減のために運用を別の会社に委託することもあった。

マイクロサービスアーキテクチャが新登場して、アーキテクチャと運用を連携する必要性が叫ばれ始めた。このようにすることで、リソースの割当が適切ではないことが偶発的な複雑さを生じていたことに気づく。